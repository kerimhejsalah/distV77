(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{A5DG:function(e,t,n){"use strict";n.r(t),n.d(t,"AddpatientModule",(function(){return q}));var a=n("ofXK"),i=n("tyNb"),c=n("PSD3"),r=n.n(c),s=n("3Pt+"),o=n("4c1C"),d=n("UE0P"),l=n("fXoL"),u=n("DJUr"),p=n("dNgK"),b=n("1EOM"),m=n("sYmb");function g(e,t){1&e&&(l.bc(0,"p",33),l.Pc(1," Nom invalide "),l.ac())}function h(e,t){1&e&&(l.bc(0,"p",33),l.Pc(1," Pr\xe9nom invalide "),l.ac())}function f(e,t){1&e&&(l.bc(0,"p",33),l.Pc(1," Email invalide , Example: example@example.com "),l.ac())}function y(e,t){1&e&&(l.bc(0,"p",33),l.Pc(1," Mot de passe invalide (minimum 6 caract\xe9res) "),l.ac())}function v(e,t){1&e&&(l.bc(0,"p",33),l.Pc(1," Saisir votre addresse "),l.ac())}function P(e,t){1&e&&(l.bc(0,"p",33),l.Pc(1," S\xe9l\xe9ctionner le genre "),l.ac())}function C(e,t){1&e&&(l.bc(0,"p",33),l.Pc(1," Saisir votre addresse "),l.ac())}function M(e,t){1&e&&(l.bc(0,"p",33),l.Pc(1," Saisir votre addresse "),l.ac())}function w(e,t){1&e&&(l.bc(0,"p",33),l.Pc(1," S\xe9l\xe9ctionner la date de naissance "),l.ac())}function A(e,t){1&e&&(l.bc(0,"p",33),l.Pc(1," T\xe9l\xe8phone invalide "),l.ac())}function T(e,t){1&e&&(l.bc(0,"p",33),l.Pc(1," SSN invalide "),l.ac())}function E(e,t){if(1&e&&(l.bc(0,"div",34),l.Wb(1,"img",35),l.ac()),2&e){const e=l.mc();l.Jb(1),l.sc("src",e.url,l.Gc)}}function J(e,t){1&e&&(l.bc(0,"div",36),l.bc(1,"div",37),l.bc(2,"span",38),l.Pc(3,"Loading..."),l.ac(),l.ac(),l.ac())}const S=function(e){return{"form-control":!0,error:e}},N=[{path:"",component:(()=>{class e{constructor(e,t,n,a,i){this.formBuilder=e,this.AuthPatient=t,this.snackBar=n,this.DemandeService=a,this.router=i,this.emailValid="",this.validSpinner=!1,this.resultAdd=!1,this.testName=!1,this.testLastName=!1,this.testEmail=!1,this.testPassword=!1,this.testAdresse=!1,this.testGender=!1,this.testBirthday=!1,this.testTelephone=!1,this.testSsn=!1,this.patient={name:"",lastname:"",email:"",birthday:"",ssn:"",adresse:"",tel:"",password:"",added_date:"",gender:"",account_state:!1,archived:!1,photo:"",weight:0,size:0,mailConfirmation:!1,consontement:""},this.submitted=!1,this.title="email-validation-tutorial",this.userEmails=new s.h({primaryEmail:new s.f("",[s.y.required,s.y.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]),secondaryEmail:new s.f("",[s.y.required,s.y.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")])})}ngOnInit(){this.registerForm=this.formBuilder.group({firstName:["",s.y.required],lastName:["",s.y.required],email:["",[s.y.required,s.y.email,s.y.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]],password:["",[s.y.required,s.y.minLength(6)]]}),this.registerFormPat=this.formBuilder.group({name:["",s.y.required],lastname:["",s.y.required],birthday:["",s.y.required],tel:["",s.y.required],adresse:["",s.y.required],ssn:["",s.y.required],gender:["",s.y.required],email:["",[s.y.required,s.y.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)],this.checkInUseEmail],password:["",[s.y.required,this.checkPassword]],confirmPassword:["",[s.y.required,this.checkPassword]],acceptTerms:[!1,s.y.requiredTrue],consontement:[!1,s.y.requiredTrue],mailConfirmation:[!1,s.y.requiredTrue],weight:[!1,s.y.required],size:[!1,s.y.required]},{validator:Object(d.a)("password","confirmPassword")}),this.registerForm=this.formBuilder.group({title:["",s.y.required],firstName:["",s.y.required],lastName:["",s.y.required],email:["",[s.y.required,s.y.email]],password:["",[s.y.required,s.y.minLength(6)]],confirmPassword:["",s.y.required],acceptTerms:[!1,s.y.requiredTrue]},{validator:Object(d.a)("password","confirmPassword")})}checkPassword(e){let t=e.value;return!/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})/.test(t)&&t?{requirements:!0}:null}checkInUseEmail(e){let t=["tony@gmail.com"];return new o.Observable(n=>{setTimeout(()=>{let a=-1!==t.indexOf(e.value)?{alreadyInUse:!0}:null;n.next(a),n.complete()},4e3)})}createPatien(){this.AuthPatient.registerPatient(this.patient).subscribe(e=>{console.log(e),this.dataAddInvit=e;let t={doctor:localStorage.getItem("id_Pro"),patient:this.dataAddInvit._id,email:this.dataAddInvit.email,dataPatient:this.patient};console.log(t),this.DemandeService.AddCreatePatient(t).subscribe(e=>{e&&this.router.navigate(["/professionnel/contact"])})})}validEmail(){this.validSpinner=!0,this.AuthPatient.emailIsExist({email:this.patient.email}).subscribe(e=>{this.result=e,"Invalid Email"===this.result.res?setTimeout(()=>{this.resultAdd=!0,this.validSpinner=!1;const e=r.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",r.a.stopTimer),e.addEventListener("mouseleave",r.a.resumeTimer)}});"fr"===localStorage.getItem("langauage")?e.fire({icon:"success",title:"E-mail n'existE pas "}):e.fire({icon:"success",title:"Email does not exist "}),this.createPatien()},5e3):setTimeout(()=>{this.resultAdd=!1,this.validSpinner=!1;const e=r.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",r.a.stopTimer),e.addEventListener("mouseleave",r.a.resumeTimer)}});"fr"===localStorage.getItem("langauage")?e.fire({icon:"error",title:"L'email existe d\xe9j\xe0"}):e.fire({icon:"error",title:"Email is exist "})},5e3)})}get f(){return this.registerForm.controls}onSubmit(){this.submitted=!0,this.registerForm.invalid||alert("SUCCESS!! :-)\n\n"+JSON.stringify(this.registerForm.value,null,4))}onReset(){this.submitted=!1,this.registerForm.reset()}}return e.\u0275fac=function(t){return new(t||e)(l.Vb(s.e),l.Vb(u.a),l.Vb(p.a),l.Vb(b.a),l.Vb(i.f))},e.\u0275cmp=l.Pb({type:e,selectors:[["app-add-patient"]],decls:102,vars:120,consts:[[1,"col-md-12",2,"margin-top","-16px"],[1,"card","pt-3",2,"height","780px"],[1,"card-body"],["aria-label","breadcrumb",1,"main-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],[2,"font-weight","bold","font-size","90%"],[3,"formGroup","ngSubmit"],[1,"form-row"],[1,"form-group","col-md-6"],["for","inputName"],["type","text","id","inputName",3,"ngModel","ngClass","placeholder","ngModelChange"],["class","text-danger",4,"ngIf"],["for","inputPrenom"],["type","text","id","inputPrenom",3,"ngModel","ngClass","placeholder","ngModelChange"],["for","inputEmail4"],["type","email","id","inputEmail4",3,"ngModel","ngClass","placeholder","ngModelChange"],["for","inputPassword4"],["type","password","id","inputPassword4",3,"ngModel","ngClass","placeholder","ngModelChange"],["for","inputAddress"],["type","text","id","inputAddress",3,"ngModel","ngClass","placeholder","ngModelChange"],["name","","id","",3,"ngClass","ngModel","ngModelChange"],[3,"ngValue"],[1,"form-group","col-md-4"],["for","inputCity"],["type","date","id","inputCity",3,"ngModel","ngClass","ngModelChange"],["for","inputTel"],["type","text","id","inputTel",3,"ngModel","ngClass","ngModelChange"],["for","inputZip"],["type","text","id","inputZip",3,"ngModel","ngClass","ngModelChange"],["class","form-groupe  m-3",4,"ngIf"],["class","d-flex justify-content-center",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"text-danger"],[1,"form-groupe","m-3"],["alt","",2,"width","100px",3,"src"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"]],template:function(e,t){1&e&&(l.bc(0,"div",0),l.bc(1,"div",1),l.bc(2,"div",2),l.bc(3,"nav",3),l.bc(4,"ol",4),l.bc(5,"li",5),l.bc(6,"a",6),l.Pc(7),l.nc(8,"translate"),l.ac(),l.ac(),l.ac(),l.ac(),l.Wb(9,"br"),l.Wb(10,"br"),l.Wb(11,"br"),l.Wb(12,"br"),l.bc(13,"form",7),l.ic("ngSubmit",(function(){return t.onSubmit()})),l.bc(14,"div"),l.bc(15,"div",8),l.bc(16,"div",9),l.bc(17,"label",10),l.Pc(18),l.nc(19,"translate"),l.ac(),l.bc(20,"input",11),l.ic("ngModelChange",(function(e){return t.patient.name=e})),l.nc(21,"translate"),l.ac(),l.Nc(22,g,2,0,"p",12),l.ac(),l.bc(23,"div",9),l.bc(24,"label",13),l.Pc(25),l.nc(26,"translate"),l.ac(),l.bc(27,"input",14),l.ic("ngModelChange",(function(e){return t.patient.lastname=e})),l.nc(28,"translate"),l.ac(),l.Nc(29,h,2,0,"p",12),l.ac(),l.ac(),l.bc(30,"div",8),l.bc(31,"div",9),l.bc(32,"label",15),l.Pc(33),l.nc(34,"translate"),l.ac(),l.bc(35,"input",16),l.ic("ngModelChange",(function(e){return t.patient.email=e})),l.nc(36,"translate"),l.ac(),l.Nc(37,f,2,0,"p",12),l.ac(),l.bc(38,"div",9),l.bc(39,"label",17),l.Pc(40),l.nc(41,"translate"),l.ac(),l.bc(42,"input",18),l.ic("ngModelChange",(function(e){return t.patient.password=e})),l.nc(43,"translate"),l.ac(),l.Nc(44,y,2,0,"p",12),l.ac(),l.ac(),l.bc(45,"div",8),l.bc(46,"div",9),l.bc(47,"label",19),l.Pc(48),l.nc(49,"translate"),l.ac(),l.bc(50,"input",20),l.ic("ngModelChange",(function(e){return t.patient.adresse=e})),l.nc(51,"translate"),l.ac(),l.Nc(52,v,2,0,"p",12),l.ac(),l.bc(53,"div",9),l.bc(54,"label",15),l.Pc(55,"Gender"),l.ac(),l.bc(56,"select",21),l.ic("ngModelChange",(function(e){return t.patient.gender=e})),l.bc(57,"option",22),l.Pc(58),l.nc(59,"translate"),l.ac(),l.bc(60,"option",22),l.Pc(61),l.nc(62,"translate"),l.ac(),l.ac(),l.Nc(63,P,2,0,"p",12),l.ac(),l.ac(),l.bc(64,"div",8),l.bc(65,"div",9),l.bc(66,"label",19),l.Pc(67),l.nc(68,"translate"),l.ac(),l.bc(69,"input",20),l.ic("ngModelChange",(function(e){return t.patient.weight=e})),l.nc(70,"translate"),l.ac(),l.Nc(71,C,2,0,"p",12),l.ac(),l.bc(72,"div",9),l.bc(73,"label",15),l.Pc(74),l.nc(75,"translate"),l.ac(),l.bc(76,"input",20),l.ic("ngModelChange",(function(e){return t.patient.size=e})),l.nc(77,"translate"),l.ac(),l.Nc(78,M,2,0,"p",12),l.ac(),l.ac(),l.bc(79,"div",8),l.bc(80,"div",23),l.bc(81,"label",24),l.Pc(82),l.nc(83,"translate"),l.ac(),l.bc(84,"input",25),l.ic("ngModelChange",(function(e){return t.patient.birthday=e})),l.ac(),l.Nc(85,w,2,0,"p",12),l.ac(),l.bc(86,"div",23),l.bc(87,"label",26),l.Pc(88),l.nc(89,"translate"),l.ac(),l.bc(90,"input",27),l.ic("ngModelChange",(function(e){return t.patient.tel=e})),l.ac(),l.Nc(91,A,2,0,"p",12),l.ac(),l.bc(92,"div",23),l.bc(93,"label",28),l.Pc(94,"ssn"),l.ac(),l.bc(95,"input",29),l.ic("ngModelChange",(function(e){return t.patient.ssn=e})),l.ac(),l.Nc(96,T,2,0,"p",12),l.ac(),l.ac(),l.Nc(97,E,2,1,"div",30),l.Nc(98,J,4,0,"div",31),l.bc(99,"button",32),l.ic("click",(function(){return t.validEmail()})),l.Pc(100),l.nc(101,"translate"),l.ac(),l.ac(),l.ac(),l.ac(),l.ac(),l.ac()),2&e&&(l.Jb(7),l.Qc(l.oc(8,58,"LISTPATIENT.CC")),l.Jb(6),l.sc("formGroup",t.registerForm),l.Jb(5),l.Qc(l.oc(19,60,"AUTH.NOM")),l.Jb(2),l.tc("placeholder",l.oc(21,62,"AUTH.NOM")),l.sc("ngModel",t.patient.name)("ngClass",l.wc(98,S,t.testName)),l.Jb(2),l.sc("ngIf",t.testName),l.Jb(3),l.Qc(l.oc(26,64,"AUTH.PRENOM")),l.Jb(2),l.tc("placeholder",l.oc(28,66,"AUTH.PRENOM")),l.sc("ngModel",t.patient.lastname)("ngClass",l.wc(100,S,t.testLastName)),l.Jb(2),l.sc("ngIf",t.testLastName),l.Jb(4),l.Qc(l.oc(34,68,"AUTH.EMAIL")),l.Jb(2),l.tc("placeholder",l.oc(36,70,"AUTH.EMAIL")),l.sc("ngModel",t.patient.email)("ngClass",l.wc(102,S,t.testEmail)),l.Jb(2),l.sc("ngIf",t.testEmail),l.Jb(3),l.Qc(l.oc(41,72,"AUTH.MOTDEPASS")),l.Jb(2),l.tc("placeholder",l.oc(43,74,"AUTH.MOTDEPASS")),l.sc("ngModel",t.patient.password)("ngClass",l.wc(104,S,t.testPassword)),l.Jb(2),l.sc("ngIf",t.testPassword),l.Jb(4),l.Qc(l.oc(49,76,"AUTH.ADDRESS")),l.Jb(2),l.tc("placeholder",l.oc(51,78,"AUTH.ADDRESS")),l.sc("ngModel",t.patient.adresse)("ngClass",l.wc(106,S,t.testAdresse)),l.Jb(2),l.sc("ngIf",t.testAdresse),l.Jb(4),l.sc("ngClass",l.wc(108,S,t.testGender))("ngModel",t.patient.gender),l.Jb(1),l.sc("ngValue","homme"),l.Jb(1),l.Qc(l.oc(59,80,"AUTH.SEXEH")),l.Jb(2),l.sc("ngValue","femme"),l.Jb(1),l.Qc(l.oc(62,82,"AUTH.SEXEF")),l.Jb(2),l.sc("ngIf",t.testGender),l.Jb(4),l.Qc(l.oc(68,84,"AUTH.POID")),l.Jb(2),l.tc("placeholder",l.oc(70,86,"AUTH.POID")),l.sc("ngModel",t.patient.weight)("ngClass",l.wc(110,S,t.testAdresse)),l.Jb(2),l.sc("ngIf",t.testAdresse),l.Jb(3),l.Qc(l.oc(75,88,"AUTH.SIZE")),l.Jb(2),l.tc("placeholder",l.oc(77,90,"AUTH.SIZE")),l.sc("ngModel",t.patient.size)("ngClass",l.wc(112,S,t.testAdresse)),l.Jb(2),l.sc("ngIf",t.testAdresse),l.Jb(4),l.Qc(l.oc(83,92,"AUTH.DATEN")),l.Jb(2),l.sc("ngModel",t.patient.birthday)("ngClass",l.wc(114,S,t.testBirthday)),l.Jb(1),l.sc("ngIf",t.testBirthday),l.Jb(3),l.Qc(l.oc(89,94,"AUTH.TELE")),l.Jb(2),l.sc("ngModel",t.patient.tel)("ngClass",l.wc(116,S,t.testTelephone)),l.Jb(1),l.sc("ngIf",t.testTelephone),l.Jb(4),l.sc("ngModel",t.patient.ssn)("ngClass",l.wc(118,S,t.testSsn)),l.Jb(1),l.sc("ngIf",t.testSsn),l.Jb(1),l.sc("ngIf",t.url),l.Jb(1),l.sc("ngIf",t.validSpinner),l.Jb(2),l.Rc("",l.oc(101,96,"AUTH.ENR")," "))},directives:[s.A,s.q,s.i,s.c,s.p,s.s,a.k,a.m,s.x,s.t,s.z],pipes:[m.c],styles:[".error[_ngcontent-%COMP%]{border:1px solid #f04c4c;color:#f04c4c}.card-to-add[_ngcontent-%COMP%]{border:10px dashed #ddd;border-radius:7px;background-color:initial;transform:scale(1.02);cursor:pointer}.card-to-add[_ngcontent-%COMP%]:hover{transform:scale(1.05);cursor:pointer}i[_ngcontent-%COMP%]{color:#ddd}"]}),e})()}];let I=(()=>{class e{}return e.\u0275mod=l.Tb({type:e}),e.\u0275inj=l.Sb({factory:function(t){return new(t||e)},imports:[[i.i.forChild(N)],i.i]}),e})(),q=(()=>{class e{}return e.\u0275mod=l.Tb({type:e}),e.\u0275inj=l.Sb({factory:function(t){return new(t||e)},imports:[[a.c,I,s.j,m.b,s.v]]}),e})()}}]);